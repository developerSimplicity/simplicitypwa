"use strict";
jQuery(document).ready(function(a) {
    var s, o, e, i = a(window).width(), n = !1, t = a(".cursor"), r = a("body"), l = a(".page-header"), c = new ScrollMagic.Controller, u = !0;
    "IntersectionObserver"in window && "IntersectionObserverEntry"in window && "isIntersecting"in window.IntersectionObserverEntry.prototype || (u = !1,
    a("html").removeClass("is-observer")),
    u && (o = new IntersectionObserver(function(e) {
        e.forEach(function(e) {
            e.isIntersecting && (e.target.classList.add("is-visible"),
            o.unobserve(e.target))
        })
    }
    ,{
        rootMargin: "0px 0px -15% 0px"
    })),
    function() {
        var e = " -webkit- -moz- -o- -ms- ".split(" ");
        if ("ontouchstart"in window || window.DocumentTouch && document instanceof DocumentTouch)
            return 1;
        var e = ["(", e.join("touch-enabled),("), "heartz", ")"].join("");
        return e = e,
        window.matchMedia(e).matches
    }() && (e = !0,
    a("html").addClass("is-touch"));
    var p = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);
    function d() {
        var e = parseInt(a("html").css("top"), 10);
        a("html").removeClass("disable-scrolling"),
        a("html,body").scrollTop(-e)
    }
    (/(iPhone|iPod|iPad)/i.test(navigator.platform) || p) && a(".nav").addClass("is-ios"),
    a(".hamburger").on("click", function() {
        l.toggleClass("is-opened"),
        n = !n
    }),
    a(".page-header__menu .current-menu-item > a").on("click", function(e) {
        a(window).width() < 1024 && (e.preventDefault(),
        a(".page-header__menu .current-menu-item .sub-menu").slideToggle())
    }),
    a(".page-header__menu .sub-menu a").on("click", function(e) {
        e.preventDefault();
        e = a(this).attr("href");
        a(".page-header").removeClass("is-opened"),
        a("html,body").animate({
            scrollTop: a(e).offset().top - 125
        }, 1e3)
    });
    var m, g = [{
        timeZone: "America/New_York",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "America/Los_Angeles",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "Europe/London",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "Europe/Berlin",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "Europe/Paris",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "Australia/Melbourne",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "Asia/Singapore",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "Asia/Tokyo",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "Africa/Lagos",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }, {
        timeZone: "America/Mexico_City",
        hour: "2-digit",
        hour12: !0,
        minute: "2-digit"
    }], h = ["New York City", "Los Angeles", "London", "Berlin", "Paris", "Melbourne", "Singapore", "Tokyo", "Lagos", "Mexico City"];
    function v() {
        a(".page-footer__time-item").length && a(".page-footer__time-item").each(function(e, t) {
            var o = {
                timeZone: g[e].timeZone,
                hour: g[e].hour,
                hour12: g[e].hour12,
                minute: g[e].minute
            }
              , o = new Intl.DateTimeFormat(["en-US"],o);
            a(t).find("span").text(h[e] + " " + o.format(new Date).toLowerCase())
        })
    }
    function f() {
        var e = a(".work-popup__inner").length
          , t = a(".work-popup__inner.is-active").index();
        1 === t ? (a(".work-popup__controls-btn--prev").addClass("is-disabled"),
        a(".work-popup__controls-btn--next").removeClass("is-disabled")) : t === e ? (a(".work-popup__controls-btn--next").addClass("is-disabled"),
        a(".work-popup__controls-btn--prev").removeClass("is-disabled")) : 1 === e ? (a(".work-popup__controls-btn--prev").addClass("is-disabled"),
        a(".work-popup__controls-btn--next").addClass("is-disabled")) : (a(".work-popup__controls-btn--prev").removeClass("is-disabled"),
        a(".work-popup__controls-btn--next").removeClass("is-disabled"))
    }
    function f() {
        var e = a(".work-popup__inner").length
          , t = a(".work-popup__inner.is-active").index();
        1 === t ? (a(".work-popup__controls-btn1--prev").addClass("is-disabled"),
        a(".work-popup__controls-btn1--next").removeClass("is-disabled")) : t === e ? (a(".work-popup__controls-btn1--next").addClass("is-disabled"),
        a(".work-popup__controls-btn1--prev").removeClass("is-disabled")) : 1 === e ? (a(".work-popup__controls-btn1--prev").addClass("is-disabled"),
        a(".work-popup__controls-btn1--next").addClass("is-disabled")) : (a(".work-popup__controls-btn1--prev").removeClass("is-disabled"),
        a(".work-popup__controls-btn1--next").removeClass("is-disabled"))
    }
    function _(e, t) {
        e.removeClass("is-active is-visible"),
        t.addClass("is-active"),
        setTimeout(function() {
            t.addClass("is-visible")
        }, 1e3)
    }
    function b() {
        a(".work-popup__inner").length && (a(".work-popup").removeClass("is-active"),
        a(".work-popup__inner").removeClass("is-active is-visible"),
        d())
    }
    function w() {
        a(".case-study__links-item").on("click", function(e) {
            e.preventDefault(),
            a(document).height() > a(window).height() && (e = (a("html").scrollTop() ? a("html") : a("body")).scrollTop(),
            a("html").addClass("disable-scrolling").css("top", -e));
            var t = a(this).attr("href");
            a(".work-popup").addClass("is-active"),
            a(".work-popup__inner" + t).addClass("is-active"),
            f(),
            setTimeout(function() {
                a(".work-popup__inner" + t).addClass("is-visible")
            }, 0)
        }),
        a(".work-popup__close").on("click", b),
        a(".work-popup__controls-btn--prev").on("click", function(e) {
            a(".work-popup ").animate({
                scrollTop: 0
            }, 300),
            setTimeout(function() {
                var e = a(".work-popup__inner.is-active")
                  , t = e.prev();
                _(e, t),
                f()
            }, 301)
        }),
        a(".work-popup__controls-btn--next").on("click", function(e) {
            a(".work-popup ").animate({
                scrollTop: 0
            }, 300),
            setTimeout(function() {
                var e = a(".work-popup__inner.is-active")
                  , t = e.next();
                _(e, t),
                f()
            }, 301)
        })
        a(".work-popup__controls-btn1--prev").on("click", function(e) {
            a(".work-popup ").animate({
                scrollTop: 0
            }, 300),
            setTimeout(function() {
                var e = a(".work-popup__inner.is-active")
                  , t = e.prev();
                _(e, t),
                f()
            }, 301)
        }),
        a(".work-popup__controls-btn1--next").on("click", function(e) {
            a(".work-popup ").animate({
                scrollTop: 0
            }, 300),
            setTimeout(function() {
                var e = a(".work-popup__inner.is-active")
                  , t = e.next();
                _(e, t),
                f()
            }, 301)
        })
    }
    function C() {
        var e, t, o, i, n;
        c = c || new ScrollMagic.Controller,
        t = a(".home__animation"),
        o = a(".about__animation"),
        i = a(".community__animation"),
        n = a(".page-footer__time-animation"),
        t.length && (e = lottie.loadAnimation({
            container: t[0],
            renderer: "svg",
            loop: !0,
            autoplay: !1,
            path: "".concat(templateUrl, "/animations/home/data.json")
        }),
        t.on("mouseenter", function() {
            e.play()
        }).on("mouseleave", function() {
            e.pause()
        })),
        o.length && lottie.loadAnimation({
            container: o[0],
            renderer: "svg",
            loop: !0,
            autoplay: !0,
            path: "".concat(templateUrl, "/animations/about/data.json")
        }),
        i.length && lottie.loadAnimation({
            container: i[0],
            renderer: "svg",
            loop: !0,
            autoplay: !0,
            path: "".concat(templateUrl, "/animations/community/data.json")
        }),
        n.length && (s = lottie.loadAnimation({
            container: n[0],
            renderer: "svg",
            loop: !0,
            autoplay: !1,
            path: "".concat(templateUrl, "/animations/footer/data.json")
        })),
        a(".about-approach__accordion-item").length && a(".about-approach__accordion-item").on("click", function(e) {
            a(this).toggleClass("is-active"),
            a(this).find(".about-approach__item-body").slideToggle()
        }),
        a(".services-item").length && a(".services-item").each(function(e, t) {
            var o = a(t);
            new ScrollMagic.Scene({
                triggerElement: t,
                offset: -130,
                triggerHook: .4,
                duration: o.height() + 110
            }).on("enter", function(e) {
                a(t).addClass("is-active")
            }).on("leave", function(e) {
                a(t).removeClass("is-active")
            }).addTo(c)
        }),
        w(),
        v(),
        a(".scroll-section").length && a(".scroll-section").each(function(e, t) {
            var o = a(t)
              , i = o.attr("id")
              , n = a(".page-header__menu .sub-menu a[href='#".concat(i, "']"));
            new ScrollMagic.Scene({
                triggerElement: t,
                offset: -130,
                triggerHook: .3,
                duration: o.outerHeight(!0)
            }).on("enter", function(e) {
                n.parent().addClass("is-active"),
                n.parent().siblings(".sub-menu li").removeClass("is-active")
            }).on("leave", function(e) {
                n.parent().removeClass("is-active")
            }).addTo(c)
        })
    }
    setInterval(v, 1e3),
    a(".page-footer__time-item").length && (setInterval(function() {
        var e, t = a(".page-footer__time-item"), o = t.length - 1;
        e = 0,
        o = o,
        m = Math.floor(Math.random() * (o - e + 1) + e),
        t.removeClass("is-current"),
        t.eq(m).addClass("is-current"),
        a(".page-footer__time-animation").addClass("is-visible"),
        a(".page-footer__time").addClass("is-changing"),
        s.play()
    }, 8e3),
    setInterval(function() {
        a(".page-footer__time").removeClass("is-changing"),
        a(".page-footer__time-animation").removeClass("is-visible"),
        s.pause()
    }, 1e4)),
    a("body").hasClass("page-template-template-about") ? a("body").addClass("is-first") : a("body").hasClass("page-template-template-services") ? a("body").addClass("is-second") : a("body").hasClass("page-template-template-work") ? a("body").addClass("is-third") : a("body").hasClass("page-template-template-contact") ? a("body").addClass("is-fourth") : a("body").hasClass("page-template-template-jobs") && a("body").addClass("is-fifth");
    p = function(o, i, n) {
        for (var a, e = arguments.length, s = new Array(3 < e ? e - 3 : 0), t = 3; t < e; t++)
            s[t - 3] = arguments[t];
        return function() {
            var e = this
              , t = n && !a;
            clearTimeout(a),
            a = setTimeout(function() {
                a = null,
                n || o.apply(e, s)
            }, i),
            t && o.apply(e, s)
        }
    }(function() {
        var e = a(window).width();
        i !== e && (i = e)
    }, 500);
    e && gsap.set(t[0], {
        opacity: 0
    }),
    a(document).on("mousemove", function(e) {
        gsap.set(t[0], {
            top: e.pageY - window.pageYOffset,
            left: e.pageX
        })
    }),
    a("button, a").hover(function() {
        gsap.set(t[0], {
            scale: .7
        })
    }, function() {
        gsap.set(t[0], {
            scale: 1
        })
    }),
    C(),
    u && a(".js-visibility").each(function(e, t) {
        o.observe(t)
    }),
    a(window).on("scroll", function() {
        30 < a(window).scrollTop() ? l.addClass("is-scrolling") : l.removeClass("is-scrolling")
    }),
    a(window).on("resize", p),
    barba.init({
        prevent: function(e) {
            e = e.el.parentElement;
            return e && e.classList.contains("menu-item-has-children") || e && e.classList.contains("no-transition-menu-item")
        },
        transitions: [{
            name: "default-transition",
            leave: function(t) {
                return new Promise(function(e) {
                    n && (l.removeClass("is-opened"),
                    n = !n,
                    i < 1024 && d()),
                    a("html,body").scrollTop(0),
                    b(),
                    null != c && (c.destroy(!0),
                    c = null),
                    gsap.to(t.current.container, {
                        opacity: 0,
                        onComplete: function() {
                            e()
                        }
                    })
                }
                )
            },
            enter: function(o) {
                return new Promise(function(e) {
                    var t = o.trigger.dataset.class;
                    gsap.set(o.next.container, {
                        opacity: 0
                    }),
                    a(".page-header__menu .sub-menu li").removeClass("is-active"),
                    r.removeClass("is-first is-second is-third is-fourth is-fifth").addClass(t),
                    a("html,body").animate({
                        scrollTop: 0
                    }, 500),
                    setTimeout(function() {
                        e()
                    }, 700)
                }
                )
            },
            afterEnter: function(e) {
                gsap.to(e.next.container, {
                    opacity: 1
                })
            },
            after: function() {
                C()
            }
        }]
    })
});


 
